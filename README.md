# Ra

[![Ra Logo](./public/logo192.png)](https://ra.porthou.se)

Ra is an opinionated frontend for Airsonic written in React and deployed as a Progressive Web App (PWA). It focuses on a fast, touch-friendly experience across desktop and mobile, with offline support via the PWA.

- Website: https://ra.porthou.se
- Demo/Docs: coming soon

## Screenshots

A glimpse of Ra on different devices.

<p align="left">
    <img height="550" src="https://raw.githubusercontent.com/anthonyporthouse/react-airsonic/master/public/screenshots/wide_albums.png">
    <img height="550" src="https://raw.githubusercontent.com/anthonyporthouse/react-airsonic/master/public/screenshots/phone_album.png">
</p>

## Features

- Browse albums, artists, and tracks from your Airsonic server
- Responsive UI for desktop and mobile
- PWA with install support
- Modern React stack with TanStack Router/Query
- TypeScript, ESLint, Prettier, Vitest

## Prerequisites

- Node.js 18+ (20 LTS recommended)
- npm 9+ (or pnpm/yarn if you prefer, update scripts accordingly)
- An accessible Airsonic (or compatible Subsonic API) server URL

## Quick start

1) Install dependencies

   npm install

2) Start the app in development mode

   npm run dev

3) Open the app

   Vite will print a local URL (typically http://localhost:5173). Open it in your browser.

You will be prompted to enter your Airsonic server details and credentials within the app.

## Production build

- Build: npm run build
- Preview build locally: npm run preview
- Deploy (Cloudflare Workers via Wrangler): npm run deploy

Adjust deployment as needed for your hosting. The build output is generated by Vite.

## Local development

- Start Vite dev server: npm run dev
- Run Storybook (component dev): npm run storybook
- Lint: npm run lint
- Format: npm run format
- Unit tests (watch UI): npm run test
- Unit tests (CI/coverage): npm run coverage

Project uses:
- TypeScript + ESLint + Prettier (with Tailwind plugin)
- Vitest + Testing Library + jsdom
- Storybook 9
- Husky + lint-staged for pre-commit checks

## Contributing

We welcome contributions! Please follow these basics to keep the repo consistent and healthy:

- Fork the repo and create a feature branch from main.
- Ensure code passes linting and tests: npm run lint && npm run test
- Keep PRs focused and include a concise description and screenshots or videos for UI changes when helpful.

### Commit message format

This repo enforces [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) via commitlint and Husky. Use the following format:

<type>(optional scope): <short description>

- Examples:
  - feat(albums): add infinite scroll to albums page
  - fix(player): prevent track from restarting on route change
  - docs(readme): add setup and screenshots
  - chore(deps): update @tanstack/react-query to v5.90.2

Common types: feat, fix, docs, style, refactor, perf, test, build, ci, chore, revert.

See commitlint config at commitlint.config.ts (extends @commitlint/config-conventional).

### Code style

- Run formatters before committing: npm run format
- Keep imports sorted (prettier plugin configured)
- Write tests for logic-heavy changes

### Filing issues

When reporting an issue, please include:
- Steps to reproduce
- Expected vs. actual behavior
- Screenshots if UI-related
- Browser/OS and server version info

## License

Unless otherwise noted, this project is released under the MIT License.
